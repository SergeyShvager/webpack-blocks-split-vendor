# webpack-blocks-split-vendor

[![Generated with nod](https://img.shields.io/badge/generator-nod-2196F3.svg?style=flat-square)](https://github.com/diegohaz/nod)
[![NPM version](https://img.shields.io/npm/v/webpack-blocks-split-vendor.svg?style=flat-square)](https://npmjs.org/package/webpack-blocks-split-vendor)
[![Build Status](https://img.shields.io/travis/diegohaz/webpack-blocks-split-vendor/master.svg?style=flat-square)](https://travis-ci.org/diegohaz/webpack-blocks-split-vendor) [![Coverage Status](https://img.shields.io/codecov/c/github/diegohaz/webpack-blocks-split-vendor/master.svg?style=flat-square)](https://codecov.io/gh/diegohaz/webpack-blocks-split-vendor/branch/master)

A webpack block that splits vendor javascript into separated bundle.

*Note: It doesn't work together with HMR*

## Install

    $ npm install --save webpack-blocks-split-vendor

## Usage

```js
const { createConfig } = require('@webpack-blocks/webpack2')
const splitVendor = require('webpack-blocks-split-vendor')

module.exports = createConfig([
  splitVendor('vendor') // It'll create a vendor.[hash].js file
])
```

## How it does

- changes the output filename to `[name].[chunkhash].js`;
- creates a bundle with `node_modules/**/*.js` files with the help of [`CommonsChunkPlugin`](https://webpack.js.org/plugins/commons-chunk-plugin/);
- uses [`webpack-md5-hash`](https://github.com/erm0l0v/webpack-md5-hash) instead of the standard webpack chunkhash so vendor bundle will have different hash from other bundles (otherwise, we would invalidate the vendor bundle cache everytime we update the app bundle, which would make this approach useless).

For more details, see [`src/index.js`](src/index.js).

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### splitVendor

Returns a webpack block that splits vendor javascript bundle.

**Parameters**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)?**  (optional, default `'vendor'`)

Returns **any** 

## License

MIT Â© [Diego Haz](https://github.com/diegohaz)
